---
title: "Benchmarking {SpeedyMarkov}"
author: "Sam Abbott"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Benchmarking {SpeedyMarkov}}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE, comment = "#>",
  fig.width = 7, fig.height = 7, 
  fig.align = "center"
)
```

## Benchmarking setp


The benchmarking grid has been implemented within `SpeedyMarkov` - see below. All benchmarking results have been run elsewhere and then saved.

```{r}
library(SpeedyMarkov)
library(ggplot2)
library(microbenchmark)
library(parallel)
library(furrr)

SpeedyMarkov::benchmark_markov
```

## Two state Markov model

The benchmar
Run the benchmarks for the two state model for 100 cycles, across 100,000 samples, 10 times for each test.

```{r, eval = FALSE}
## Specifiy the number of samples and duration over which to model
## Specfiy the reference and SpeedyMarkov model
results <- benchmark_approaches(model = example_two_state_markov, 
                                reference = reference_two_state_markov,
                                duration = 100, samples = 100000,
                                times = 10) 

results
```

Plot benchmark results

```{r, width = 10, height = 10, eval = FALSE}
ggplot2::autoplot(results) +
  ggplot2::theme_minimal()
```

